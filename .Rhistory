files = list.files(path="E:/MainProject/sampletrainonlyBytes",pattern="*.bytes",full.names=T)
library(gtools)
library(RWeka)
library(tm)
finalDt = data.frame()
n=2
ngramTokenizer = function(x) NGramTokenizer(x, Weka_control(min = n, max = n))
for(x in files){
corpus = Corpus(URISource(x),readerControl=list(language="eng", reader=readPlain))
#corpus = tm_map(corpus,tolower)
#corpus = tm_map(corpus, PlainTextDocument)
corpus = tm_map(corpus,removePunctuation)
#corpus = tm_map(corpus,removeWords,stopwords("english"))
#corpus = tm_map(corpus,stemDocument)
dtm = DocumentTermMatrix(corpus, control = list(tokenize = ngramTokenizer))
df = as.data.frame(as.matrix(dtm))
finalDt = smartbind(finalDt,df)
}
finalDt = smartbind(df,finalDt)
library(plyr)
finalDt = rbind.fill(df,finalDt)
?rbind.fill
rbind.fill(mtcars[c("mpg", "wt")], mtcars[c("wt", "cyl")])
smartbind(mtcars[c("mpg", "wt")], mtcars[c("wt", "cyl")])
rbind(mtcars[c("mpg", "wt")], mtcars[c("wt", "cyl")])
bind_rows(mtcars[c("mpg", "wt")], mtcars[c("wt", "cyl")])
library(dplyr)
bind_rows(mtcars[c("mpg", "wt")], mtcars[c("wt", "cyl")])
rbind_all(mtcars[c("mpg", "wt")], mtcars[c("wt", "cyl")])
q()
library()
library(swirl)
x <- 1:4
p <- x/sum(x)
temp <- rbind(x, p)
rownames(temp) <- c("X", "Prob")
temp
(temp$x*temp$Prob)/nrow(temp)
(temp$X*temp$Prob)/nrow(temp)
temp[1]
temp[1:]
temp[1:4]
temp[1:,]
temp[1,]
temp[0,]
temp[2,]
temp[2,]*temp[1,]
sum(temp[2,]*temp[1,])
3/4
1.6+0.9+.3
75*30/(75*30+(100-52)*70)
setwd("F:/Skydrive/R/Malware")
dir()
newdata = read.csv("3gramsTrain.csv",as.is =TRUE, header=FALSE)
trainLabels = read.csv("trainLabels.csv", as.is =TRUE)
newtrain = merge(newdata,trainLabels, by.x ="V1", by.y ="Id")
library(caTools)
leftOut = setdiff(names(newtrain), "V42")
set.seed(100)
split=sample.split(newtrain$Class,SplitRatio = 0.7)
sampleTrain = subset(newtrain,split==TRUE)
sampleTest = subset(newtrain,split==FALSE)
trTrg = sampleTrain$Class
tsTrg=sampleTest$Class
sampleTrain$Class=NULL
sampleTest$Class = NULL
sampleTrain$V1=NULL
sampleTest$V1=NULL
require(LiblineaR)
modelLinear = LiblineaR(data=sampleTrain,target = trTrg,type=0)
pred = predict(modelLinear,sampleTest)
table(tsTrg,pred$predictions)
(438+681+816+87+5+279+253)/nrow(sampleTest)
pred = predict(modelLinear,sampleTrain)
table(trTrg,pred$predictions)
(1036+1558+1881+278+17+621+585)/nrow(sampleTrain)
fulltrg = newtrain$Class
newtrain$Class=NULL
modelLinear1 = LiblineaR(data=newtrain,target = fulltrg,type=0,cross=10)
names(sampleTrain)
sampleTrain$V205
names(newtrain)
summary(newtrain)
newtrain$V1=NULL
modelLinear1 = LiblineaR(data=newtrain,target = fulltrg,type=0,cross=10)
(1036+1558+1881+278+17+621+585)/nrow(sampleTrain)
(438+681+816+87+5+279+253)/nrow(sampleTest)
summary(modelLinear)
?LiblineaR
modelLinear2 = LiblineaR(data=sampleTrain,target = trTrg,type=6)
pred = predict(modelLinear2,sampleTest)
table(tsTrg,pred$predictions)
(427+706+877+141+185+49+291+283)/nrow(sampleTest)
pred = predict(modelLinear2,sampleTrain)
table(trTrg,pred$predictions)
(993+1673+2044+329+3+440+121+674+659)/nrow(sampleTrain)
modelLinear2 = LiblineaR(data=sampleTrain,target = trTrg,type=7)
pred = predict(modelLinear2,sampleTrain)
table(trTrg,pred$predictions)
pred = predict(modelLinear2,sampleTest)
table(tsTrg,pred$predictions)
(381+684+875+141+3+112+53+277+265)/nrow(sampleTest)
modelLinear3 = LiblineaR(data=newtrain,target = fulltrg,type=6,cross=10)
modelLinear3
newdata = read.csv("featuresfromraw-free from missing.csv",as.is=TRUE)
newdata$Class = newdata$Class*10
newdata$Id=NULL
newtrain=newdata
set.seed(100)
split=sample.split(newtrain$Class,SplitRatio = 0.7)
sampleTrain = subset(newtrain,split==TRUE)
sampleTest = subset(newtrain,split==FALSE)
trTrg = sampleTrain$Class
tsTrg = sampleTest$Class
sampleTrain$Class = NULL
sampleTest$Class = NULL
fullTrg = newtrain$Class
newtrain$Class=NULL
modelLinear4= LiblineaR(data=sampleTrain,target = trTrg,type=6)
names(sampleTrain)
sampletrain$X
sampleTrain$X
sampleTrain$X=NULL
sampleTest$X = NULL
newtrain$X=NULL
modelLinear4= LiblineaR(data=sampleTrain,target = trTrg,type=6)
pred = predict(modelLinear4,sampleTest)
table(tsTrg,pred$predictions)
(420+643+880+41+40+58+270+247)/nrow(sampleTest)
modelLinear5= LiblineaR(data=sampleTrain,target = trTrg,type=7)
pred = predict(modelLinear5,sampleTest)
table(tsTrg,pred$predictions)
pred = predict(modelLinear4,sampleTrain)
table(trTrg,pred$predictions)
(964+1489+2054+92+114+127+678+570)/nrow(sampleTrain)
modelLinear6= LiblineaR(data=newtrain,target = fullTrg,type=6,cross=10)
modelLinear6
